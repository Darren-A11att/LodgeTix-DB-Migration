=== ENHANCED PAYMENT SYNC LOG ===
Started at: 2025-08-19T00:41:22.575Z
Processing Square with orders/customers and contacts

âœ“ Supabase client initialized
âœ“ Square provider initialized (REQUIRED)
âœ“ DA-LODGETIX initialized
âœ“ WS-LODGETIX initialized
âœ“ WS-LODGETICKETS initialized

Initialized 4 payment provider(s)
âœ“ Connected to MongoDB:
  Cluster: LodgeTix-migration-test-1
  Database: lodgetix
  URI: mongodb+srv:****@lodgetix-migration-test.wydwfu6.mongodb.net/lodgetix?retryWrites=true&w=majority&appName=LodgeTix-migration-test-1

=== STARTING ENHANCED PAYMENT SYNC ===
Processing workflow:
1. Import payment to import_payments (with field transformation)
2. Fetch order/customer for Square payments
3. Find registration in Supabase
4. Update with charge ID for Stripe
5. Import to import_registrations (with field transformation)
6. Import attendees to import_attendees
7. Import tickets to import_tickets
8. Import contacts to import_contacts with deduplication
9. Process booking contact as customer with registration metadata
9. Selective sync to production collections based on field comparison


â”â”â” Processing Square â”â”â”

Fetching ALL historical Square payments (one at a time)...
  Fetched payment 1 (cursor: none)

ğŸ“ Processing Square payment: TfZHYycMUyutO1muRKJFHplQHmXZY
  âœ… Importing completed payment - status: COMPLETED
  ğŸ›’ Fetching order: bW0oVcfptFNbxsCRLZ019TYrsADZY
    âœ“ Order fetched
  ğŸ‘¤ Fetching customer: T0YQAJ6A3YDZDKS3P859H0FNYR
    âœ“ Customer fetched
  âœ“ Imported to import_payments with field transformation
  âœ“ Found registration: 422faeaf-35fc-4e34-b6f4-4e593c1daab6
  âœ“ Updated import_payments with registrationId: 422faeaf-35fc-4e34-b6f4-4e593c1daab6
  âœ“ Imported FULL registration to import_registrations with field transformation
  ğŸ“ Processing booking contact as customer
    Customer data created: Chris Rogers
    âœ“ Created new customer: Chris Rogers
    âœ“ Updated registration with customer reference: 21ed333c-cfa3-4d64-a65c-fd3ec7c33d88
  âœ“ Found customer data for ticket ownership: Chris Rogers
    Extracting 1 attendees from registration_data
    ğŸ” Looking up grand lodge: 3e893fa6-2cc2-448c-be9c-e3858cc90e11
    âœ“ Found grand lodge name: United Grand Lodge of New South Wales & Australian Capital Territory
  âœ“ Found 1 attendee(s)
    Extracting 2 tickets from registration_data.selectedTickets
    Total tickets after expansion: 2
    ğŸ“ Using event_ticket_id for eventTicketId: be94ef03-6647-48d5-97ea-f98c862e30e6
    ğŸ” Looking up eventTicket: be94ef03-6647-48d5-97ea-f98c862e30e6
    âœ… Found eventTicket: Quarterly Communication (price: 0)
    ğŸ“ Using event_ticket_id for eventTicketId: 7196514b-d4b8-4fe0-93ac-deb4c205dd09
    ğŸ” Looking up eventTicket: 7196514b-d4b8-4fe0-93ac-deb4c205dd09
    âœ… Found eventTicket: Grand Proclamation Ceremony (price: 20)
    ğŸ“¦ Returning 2 processed tickets from registration_data
  âœ“ Found 2 ticket(s) in registration
    ğŸ’¾ Saving ticket to import_tickets: 0198bf74-00d0-71be-99b5-6da0bd4eb5a2-be94ef03-6647-48d5-97ea-f98c862e30e6 (Quarterly Communication, qty: 1)
      âœ… Created ticket document
    ğŸ’¾ Saving ticket to import_tickets: 0198bf74-00d0-71be-99b5-6da0bd4eb5a2-7196514b-d4b8-4fe0-93ac-deb4c205dd09 (Grand Proclamation Ceremony, qty: 1)
      âœ… Created ticket document
    ğŸ“ Created registration reference: Grand Proclamation 2025 (422faeaf-35fc-4e34-b6f4-4e593c1daab6)
    âœ¨ Creating new contact with role 'attendee': Chris Rogers
    ğŸ“‹ Registrations added: 1 items
      1. Grand Proclamation 2025 (422faeaf-35fc-4e34-b6f4-4e593c1daab6) - Conf: IND-388639EW
    âœ“ Processed unified contact: Chris Rogers (roles: attendee)
  ğŸ“ Updating registration with extracted references
    âœ… Updated registration with 2 ticket IDs (2 ObjectIds) and 1 attendee IDs (1 ObjectIds)
  âœ… Completed processing Square payment TfZHYycMUyutO1muRKJFHplQHmXZY (production eligible)
  ğŸ”„ Syncing payment data to production...
    â†’ Syncing payment TfZHYycMUyutO1muRKJFHplQHmXZY data to production...
      âœ“ Payment synced to production
      âœ“ Registration synced to production
      âœ“ Customer 21ed333c-cfa3-4d64-a65c-fd3ec7c33d88 synced to production
      âœ“ Attendee 0198bf74-00d0-71be-99b5-6da0bd4eb5a2 synced to production
      âœ“ Contact chrisrogers67@gmail.com synced to production
      âœ“ Ticket 0198bf74-00d0-71be-99b5-6da0bd4eb5a2-be94ef03-6647-48d5-97ea-f98c862e30e6 synced to production
      âœ“ Ticket 0198bf74-00d0-71be-99b5-6da0bd4eb5a2-7196514b-d4b8-4fe0-93ac-deb4c205dd09 synced to production
    âœ… Payment TfZHYycMUyutO1muRKJFHplQHmXZY complete data chain synced to production
  âœ… Payment data synced to production
  Got cursor for next payment
  Fetched payment 2 (cursor: provided)

ğŸ“ Processing Square payment: Jo8Xt6W86o0fUOrhcipCfShVOaJZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 3 (cursor: provided)

ğŸ“ Processing Square payment: F6oCqaqnzPwfTGdhPYIZIBucz3HZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 4 (cursor: provided)

ğŸ“ Processing Square payment: Hhxbd0PywfAYLWhJE4QIteGTPPAZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 5 (cursor: provided)

ğŸ“ Processing Square payment: 1kB0VhS29vRIlnI7pwTLBkZ0j7AZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 6 (cursor: provided)

ğŸ“ Processing Square payment: 5WZURjeHRtZKVpza9ECnKKz2R6cZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 7 (cursor: provided)

ğŸ“ Processing Square payment: 5GXVymBC3x18occbL5IXfi34knaZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 8 (cursor: provided)

ğŸ“ Processing Square payment: 37uzagXg6306GrJSUUf574HvB0CZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 9 (cursor: provided)

ğŸ“ Processing Square payment: jtwvvCSh0dwASWgUW1TAfF2l635YY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 10 (cursor: provided)

ğŸ“ Processing Square payment: 7nHbZYYBn7M1thYdSmgNo9n28yKZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 11 (cursor: provided)

ğŸ“ Processing Square payment: p4g7czFGnXbMPrHYOtWSnqCieZLZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 12 (cursor: provided)

ğŸ“ Processing Square payment: JOBqwBmraQ1ECS1fVhtdy55ZrrMZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 13 (cursor: provided)

ğŸ“ Processing Square payment: bHpqGQWwCK6aDNnbhv6ChzltfedZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 14 (cursor: provided)

ğŸ“ Processing Square payment: TFOQEKkW2rQS4WHUBdIjyoSj0EJZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 15 (cursor: provided)

ğŸ“ Processing Square payment: ZGvLjl0ZA3MT9vf33jacwBNG5ycZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 16 (cursor: provided)

ğŸ“ Processing Square payment: h8gN46mZTfnGV8xDOWY7q4nnsVPZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 17 (cursor: provided)

ğŸ“ Processing Square payment: NQtKfWQJ2pMEfWLqgqbhTOSQVgeZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 18 (cursor: provided)

ğŸ“ Processing Square payment: 3l9mbrzU72IPMJ1vscl47aM5EzeZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 19 (cursor: provided)

ğŸ“ Processing Square payment: jfPss6uLfMf6Sy8Z7WtPH9FLERKZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 20 (cursor: provided)

ğŸ“ Processing Square payment: VaU4RCrbBAky4Jpe4pvV1GBwRSJZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 21 (cursor: provided)

ğŸ“ Processing Square payment: T1AjRFv4v2jHjyoHPOvHp3jF2BJZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 22 (cursor: provided)

ğŸ“ Processing Square payment: DLDhRUZVwCaYfLXVguPIa7c2TBTZY
  ğŸ“¥ Importing non-completed payment - status: FAILED (will not move to production)
  ğŸ”„ Payment has been updated - cleaning up and reprocessing
  ğŸ§¹ Checking for stale error_payments records for payment: DLDhRUZVwCaYfLXVguPIa7c2TBTZY
  ğŸ›’ Fetching order: jWwz7Uxidz4PeSLPg918oz0X3wXZY
    âœ“ Order fetched
  ğŸ‘¤ Fetching customer: 6AV409Q89NWNMCVYXM82HSX4RM
    âœ“ Customer fetched
  âœ“ Imported to import_payments with field transformation
  ğŸ“ No registration found for payment: DLDhRUZVwCaYfLXVguPIa7c2TBTZY
  âœ“ Updated import_payments with registrationId: no-match
  â„¹ï¸ FAILED payment - no match is not an error
  Got cursor for next payment
  Fetched payment 23 (cursor: provided)

ğŸ“ Processing Square payment: jhU6YnfsNom1Wu5UEwTpuTUOfkbZY
  ğŸ“¥ Importing non-completed payment - status: FAILED (will not move to production)
  ğŸ”„ Payment has been updated - cleaning up and reprocessing
  ğŸ§¹ Checking for stale error_payments records for payment: jhU6YnfsNom1Wu5UEwTpuTUOfkbZY
  ğŸ›’ Fetching order: lRHUbFrVLiFaXJ7gCrKirTsbMfJZY
    âœ“ Order fetched
  ğŸ‘¤ Fetching customer: 6AV409Q89NWNMCVYXM82HSX4RM
    âœ“ Customer fetched
  âœ“ Imported to import_payments with field transformation
  ğŸ“ No registration found for payment: jhU6YnfsNom1Wu5UEwTpuTUOfkbZY
  âœ“ Updated import_payments with registrationId: no-match
  â„¹ï¸ FAILED payment - no match is not an error
  Got cursor for next payment
  Fetched payment 24 (cursor: provided)

ğŸ“ Processing Square payment: ByHBzneYeEzSiok0AlGqi7v7N6NZY
  ğŸ“¥ Importing non-completed payment - status: FAILED (will not move to production)
  ğŸ”„ Payment has been updated - cleaning up and reprocessing
  ğŸ§¹ Checking for stale error_payments records for payment: ByHBzneYeEzSiok0AlGqi7v7N6NZY
  ğŸ›’ Fetching order: JXP7Z0ckjqFu5oTSv7OudCIjzFRZY
    âœ“ Order fetched
  ğŸ‘¤ Fetching customer: 6AV409Q89NWNMCVYXM82HSX4RM
    âœ“ Customer fetched
  âœ“ Imported to import_payments with field transformation
  ğŸ“ No registration found for payment: ByHBzneYeEzSiok0AlGqi7v7N6NZY
  âœ“ Updated import_payments with registrationId: no-match
  â„¹ï¸ FAILED payment - no match is not an error
  Got cursor for next payment
  Fetched payment 25 (cursor: provided)

ğŸ“ Processing Square payment: hmHkLkSEY6gu1Nngf1LYIBaLnPJZY
  ğŸ“¥ Importing non-completed payment - status: FAILED (will not move to production)
  ğŸ”„ Payment has been updated - cleaning up and reprocessing
  ğŸ§¹ Checking for stale error_payments records for payment: hmHkLkSEY6gu1Nngf1LYIBaLnPJZY
  ğŸ›’ Fetching order: hdkX92qVGPjrnucp472nFPOFO9CZY
    âœ“ Order fetched
  ğŸ‘¤ Fetching customer: 6AV409Q89NWNMCVYXM82HSX4RM
    âœ“ Customer fetched
  âœ“ Imported to import_payments with field transformation
  ğŸ“ No registration found for payment: hmHkLkSEY6gu1Nngf1LYIBaLnPJZY
  âœ“ Updated import_payments with registrationId: no-match
  â„¹ï¸ FAILED payment - no match is not an error
  Got cursor for next payment
  Fetched payment 26 (cursor: provided)

ğŸ“ Processing Square payment: zNueSiS1Y3GP59FJH7A62k4tMrTZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 27 (cursor: provided)

ğŸ“ Processing Square payment: r9ACcx4DHuxDspPsS8xlhWFWKk7YY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 28 (cursor: provided)

ğŸ“ Processing Square payment: BYKXKLGaomF5fqksWnC2BDShYz9YY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 29 (cursor: provided)

ğŸ“ Processing Square payment: H7MsmC9fLnNjwZCB50pm6oUhDZCZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 30 (cursor: provided)

ğŸ“ Processing Square payment: Xbs2Q3X1vEvZJnSLSnrbaOF4z1EZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 31 (cursor: provided)

ğŸ“ Processing Square payment: 1iYmmAImrRvMZ9FE839tL7f6ZJDZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 32 (cursor: provided)

ğŸ“ Processing Square payment: LHxGj2N2xehd2SVPRgahL09Z4bOZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 33 (cursor: provided)

ğŸ“ Processing Square payment: HnMhwDtTEYP9hcTF0UHH7Y8UTbBZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 34 (cursor: provided)

ğŸ“ Processing Square payment: 3tJyXZgwjgLBCHoyV2uARwGBswdZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 35 (cursor: provided)

ğŸ“ Processing Square payment: vlvOb3ZJBzQJ0XzoCOOCm3lVn2VZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 36 (cursor: provided)

ğŸ“ Processing Square payment: F8t2nIaFgyXCsaClrIb76CGn5fKZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 37 (cursor: provided)

ğŸ“ Processing Square payment: DbJ0DmwrCW68Xy80jcjBhSu1TSTZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 38 (cursor: provided)

ğŸ“ Processing Square payment: 3ZJ3HBSr4UdPafNCaBainy55wc7YY
  âœ… Importing completed payment - status: COMPLETED
  ğŸ”„ Payment has been updated - cleaning up and reprocessing
  ğŸ§¹ Checking for stale error_payments records for payment: 3ZJ3HBSr4UdPafNCaBainy55wc7YY
  ğŸ“Š Found 1 stale error_payments record(s) to clean up
  âœ… Cleaned up 1 stale error record(s)
  ğŸ›’ Fetching order: 1D6JIYsyPosqijXocbFPCziiNcbZY
    âœ“ Order fetched
  âœ“ Imported to import_payments with field transformation
  âŒ No registration found for payment: 3ZJ3HBSr4UdPafNCaBainy55wc7YY
  âœ“ Updated import_payments with registrationId: no-match
  Got cursor for next payment
  Fetched payment 39 (cursor: provided)

ğŸ“ Processing Square payment: XZvsmRdAo7cOcbytf8tXyQopLI6YY
  âœ… Importing completed payment - status: COMPLETED
  ğŸ”„ Payment has been updated - cleaning up and reprocessing
  ğŸ§¹ Checking for stale error_payments records for payment: XZvsmRdAo7cOcbytf8tXyQopLI6YY
  ğŸ“Š Found 1 stale error_payments record(s) to clean up
  âœ… Cleaned up 1 stale error record(s)
  ğŸ›’ Fetching order: Xs2L35wjYWhx3HvrklClX3a0BuNZY
    âœ“ Order fetched
  âœ“ Imported to import_payments with field transformation
  âŒ No registration found for payment: XZvsmRdAo7cOcbytf8tXyQopLI6YY
  âœ“ Updated import_payments with registrationId: no-match
  Got cursor for next payment
  Fetched payment 40 (cursor: provided)

ğŸ“ Processing Square payment: lqOt4jZnIiTTlE97PDYCV3tShsPZY
  âœ… Importing completed payment - status: COMPLETED
  ğŸ”„ Payment has been updated - cleaning up and reprocessing
  ğŸ§¹ Checking for stale error_payments records for payment: lqOt4jZnIiTTlE97PDYCV3tShsPZY
  ğŸ“Š Found 1 stale error_payments record(s) to clean up
  âœ… Cleaned up 1 stale error record(s)
  ğŸ›’ Fetching order: r4PTP2Qxwslt7ZxZaKlLzqYSShcZY
    âœ“ Order fetched
  âœ“ Imported to import_payments with field transformation
  âŒ No registration found for payment: lqOt4jZnIiTTlE97PDYCV3tShsPZY
  âœ“ Updated import_payments with registrationId: no-match
  Got cursor for next payment
  Fetched payment 41 (cursor: provided)

ğŸ“ Processing Square payment: zVoh8VCpVfGVFHDPCb6tQiG9uJ8YY
  âœ… Importing completed payment - status: COMPLETED
  ğŸ”„ Payment has been updated - cleaning up and reprocessing
  ğŸ§¹ Checking for stale error_payments records for payment: zVoh8VCpVfGVFHDPCb6tQiG9uJ8YY
  ğŸ“Š Found 1 stale error_payments record(s) to clean up
  âœ… Cleaned up 1 stale error record(s)
  ğŸ›’ Fetching order: DARLGQPmU3VLYeCjH2NCxjYWrgHZY
    âœ“ Order fetched
  âœ“ Imported to import_payments with field transformation
  âŒ No registration found for payment: zVoh8VCpVfGVFHDPCb6tQiG9uJ8YY
  âœ“ Updated import_payments with registrationId: no-match
  Got cursor for next payment
  Fetched payment 42 (cursor: provided)

ğŸ“ Processing Square payment: ZggJj2u2p8iwhRWOajCzg0zZ2YEZY
  âœ… Importing completed payment - status: COMPLETED
  ğŸ”„ Payment has been updated - cleaning up and reprocessing
  ğŸ§¹ Checking for stale error_payments records for payment: ZggJj2u2p8iwhRWOajCzg0zZ2YEZY
  ğŸ“Š Found 1 stale error_payments record(s) to clean up
  âœ… Cleaned up 1 stale error record(s)
  ğŸ›’ Fetching order: fCV69dX4Zze30HVeTpuzqAjjWUaZY
    âœ“ Order fetched
  âœ“ Imported to import_payments with field transformation
  âŒ No registration found for payment: ZggJj2u2p8iwhRWOajCzg0zZ2YEZY
  âœ“ Updated import_payments with registrationId: no-match
  Got cursor for next payment
  Fetched payment 43 (cursor: provided)

ğŸ“ Processing Square payment: jjZo8QIRaYRVHjWEF6kGT2A8SqYZY
  âœ… Importing completed payment - status: COMPLETED
  ğŸ”„ Payment has been updated - cleaning up and reprocessing
  ğŸ§¹ Checking for stale error_payments records for payment: jjZo8QIRaYRVHjWEF6kGT2A8SqYZY
  ğŸ“Š Found 1 stale error_payments record(s) to clean up
  âœ… Cleaned up 1 stale error record(s)
  ğŸ›’ Fetching order: PsYp8u1YP1En0Te0r2ckAR3x3xCZY
    âœ“ Order fetched
  âœ“ Imported to import_payments with field transformation
  âŒ No registration found for payment: jjZo8QIRaYRVHjWEF6kGT2A8SqYZY
  âœ“ Updated import_payments with registrationId: no-match
  Got cursor for next payment
  Fetched payment 44 (cursor: provided)

ğŸ“ Processing Square payment: XbYcqGOlLYy34w8GRh6oDKYqSKKZY
  âœ… Importing completed payment - status: COMPLETED
  ğŸ”„ Payment has been updated - cleaning up and reprocessing
  ğŸ§¹ Checking for stale error_payments records for payment: XbYcqGOlLYy34w8GRh6oDKYqSKKZY
  ğŸ“Š Found 1 stale error_payments record(s) to clean up
  âœ… Cleaned up 1 stale error record(s)
  ğŸ›’ Fetching order: P69g27WnaUvxwgatO0njdtNHp5SZY
    âœ“ Order fetched
  âœ“ Imported to import_payments with field transformation
  âŒ No registration found for payment: XbYcqGOlLYy34w8GRh6oDKYqSKKZY
  âœ“ Updated import_payments with registrationId: no-match
  Got cursor for next payment
  Fetched payment 45 (cursor: provided)

ğŸ“ Processing Square payment: xECGubABWxwHhK8cYuzZJdzEfONZY
  âœ… Importing completed payment - status: COMPLETED
  ğŸ”„ Payment has been updated - cleaning up and reprocessing
  ğŸ§¹ Checking for stale error_payments records for payment: xECGubABWxwHhK8cYuzZJdzEfONZY
  ğŸ“Š Found 1 stale error_payments record(s) to clean up
  âœ… Cleaned up 1 stale error record(s)
  ğŸ›’ Fetching order: 7MX0fi49HRM9cSl6CI6J8uMU9sCZY
    âœ“ Order fetched
  âœ“ Imported to import_payments with field transformation
  âŒ No registration found for payment: xECGubABWxwHhK8cYuzZJdzEfONZY
  âœ“ Updated import_payments with registrationId: no-match
  Got cursor for next payment
  Fetched payment 46 (cursor: provided)

ğŸ“ Processing Square payment: xSlYUjRPlvBqdFASpTgzxyAq1RHZY
  âœ… Importing completed payment - status: COMPLETED
  ğŸ”„ Payment has been updated - cleaning up and reprocessing
  ğŸ§¹ Checking for stale error_payments records for payment: xSlYUjRPlvBqdFASpTgzxyAq1RHZY
  ğŸ“Š Found 1 stale error_payments record(s) to clean up
  âœ… Cleaned up 1 stale error record(s)
  ğŸ›’ Fetching order: hr7zXW4nU2W6e1anMyyghhVmF0YZY
    âœ“ Order fetched
  âœ“ Imported to import_payments with field transformation
  âŒ No registration found for payment: xSlYUjRPlvBqdFASpTgzxyAq1RHZY
  âœ“ Updated import_payments with registrationId: no-match
  Got cursor for next payment
  Fetched payment 47 (cursor: provided)

ğŸ“ Processing Square payment: 7NcA5XmQQnii5C4wyZ49VRv4O6bZY
  âœ… Importing completed payment - status: COMPLETED
  ğŸ”„ Payment has been updated - cleaning up and reprocessing
  ğŸ§¹ Checking for stale error_payments records for payment: 7NcA5XmQQnii5C4wyZ49VRv4O6bZY
  ğŸ“Š Found 1 stale error_payments record(s) to clean up
  âœ… Cleaned up 1 stale error record(s)
  ğŸ›’ Fetching order: nsMMDuSVkztzJFtyVuhVmcuCbW8YY
    âœ“ Order fetched
  âœ“ Imported to import_payments with field transformation
  âŒ No registration found for payment: 7NcA5XmQQnii5C4wyZ49VRv4O6bZY
  âœ“ Updated import_payments with registrationId: no-match
  Got cursor for next payment
  Fetched payment 48 (cursor: provided)

ğŸ“ Processing Square payment: jXbMStnAmtjde3RrcJyeFi1fUuRZY
  âœ… Importing completed payment - status: COMPLETED
  ğŸ”„ Payment has been updated - cleaning up and reprocessing
  ğŸ§¹ Checking for stale error_payments records for payment: jXbMStnAmtjde3RrcJyeFi1fUuRZY
  ğŸ“Š Found 1 stale error_payments record(s) to clean up
  âœ… Cleaned up 1 stale error record(s)
  ğŸ›’ Fetching order: FvQPGKRNYcvNCGXEUKrIL9vRogWZY
    âœ“ Order fetched
  âœ“ Imported to import_payments with field transformation
  âŒ No registration found for payment: jXbMStnAmtjde3RrcJyeFi1fUuRZY
  âœ“ Updated import_payments with registrationId: no-match
  Got cursor for next payment
  Fetched payment 49 (cursor: provided)

ğŸ“ Processing Square payment: NkToF5EmmRnVVpX6UAqwfq6nBLNZY
  âœ… Importing completed payment - status: COMPLETED
  ğŸ”„ Payment has been updated - cleaning up and reprocessing
  ğŸ§¹ Checking for stale error_payments records for payment: NkToF5EmmRnVVpX6UAqwfq6nBLNZY
  ğŸ“Š Found 1 stale error_payments record(s) to clean up
  âœ… Cleaned up 1 stale error record(s)
  ğŸ›’ Fetching order: 1BBLtJ7rsJaJqWuJoOkm4HDpMbVZY
    âœ“ Order fetched
  âœ“ Imported to import_payments with field transformation
  âŒ No registration found for payment: NkToF5EmmRnVVpX6UAqwfq6nBLNZY
  âœ“ Updated import_payments with registrationId: no-match
  Got cursor for next payment
  Fetched payment 50 (cursor: provided)

ğŸ“ Processing Square payment: 3zOzdaBQtF8P6LmaVkIriaGTYKeZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 51 (cursor: provided)

ğŸ“ Processing Square payment: LZkdOfjFmPKMhwgBnK0HTv3arvJZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 52 (cursor: provided)

ğŸ“ Processing Square payment: 9Q1czaAuSZ3MLpRIjWwQ5qK8LlOZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 53 (cursor: provided)

ğŸ“ Processing Square payment: bX925MCTlcedZE16Y5isSOiOY47YY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 54 (cursor: provided)

ğŸ“ Processing Square payment: TFQpQg9T6EMRNsVMCRqzqF9mg1WZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 55 (cursor: provided)

ğŸ“ Processing Square payment: ZAMti0WeQC6bzau6xzcwAt5brqKZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 56 (cursor: provided)

ğŸ“ Processing Square payment: NgzFLVSyeKvPqooHJ4eqTIp0k0KZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 57 (cursor: provided)

ğŸ“ Processing Square payment: vH42rszQNFswJ7wiC9myBYYRVSUZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 58 (cursor: provided)

ğŸ“ Processing Square payment: J88iNwjm7wF9AcNLYNHXedPYbo6YY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 59 (cursor: provided)

ğŸ“ Processing Square payment: RC5yWMBETbgS58lLWRMWrtwEzD9YY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 60 (cursor: provided)

ğŸ“ Processing Square payment: tWs6GU9fkOLQyYgcvz6V9Le0mAdZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 61 (cursor: provided)

ğŸ“ Processing Square payment: FgpZ0BTR7kELg8mqty50XffR9TPZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 62 (cursor: provided)

ğŸ“ Processing Square payment: zrVcZLjCpVPZwvQrkA8GIZTrVS9YY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 63 (cursor: provided)

ğŸ“ Processing Square payment: NaIV57IiGy496z8NvR7Z5Mc17SZZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 64 (cursor: provided)

ğŸ“ Processing Square payment: 12Y9un9kSKeqSxMjwcNTefoysTEZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 65 (cursor: provided)

ğŸ“ Processing Square payment: rJSoyuFWlC5k0S5hOxIyksf0pH9YY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 66 (cursor: provided)

ğŸ“ Processing Square payment: Rc8t4dVR4bflbR2WdcWFR22XtNSZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 67 (cursor: provided)

ğŸ“ Processing Square payment: jnZ3YaueDdy6TpeRv240eWTnIPZZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 68 (cursor: provided)

ğŸ“ Processing Square payment: ZGblTCt4beBAQimRQuctL5KP3jNZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 69 (cursor: provided)

ğŸ“ Processing Square payment: xWPsMDzpot3yUl3Fmp5QfRZVpoZZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 70 (cursor: provided)

ğŸ“ Processing Square payment: 33u6VwpAUxrUitZKoLmcK4PYFVcZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 71 (cursor: provided)

ğŸ“ Processing Square payment: 7Hbz0OpZ4JX09X4l7SdUxJPnx5cZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 72 (cursor: provided)

ğŸ“ Processing Square payment: heNjYYSFTdby4tmeKEAMnwdbkDRZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 73 (cursor: provided)

ğŸ“ Processing Square payment: P1x35soIc6XBESLOezIkKls90HaZY
  ğŸ“¥ Importing non-completed payment - status: FAILED (will not move to production)
  ğŸ”„ Payment has been updated - cleaning up and reprocessing
  ğŸ§¹ Checking for stale error_payments records for payment: P1x35soIc6XBESLOezIkKls90HaZY
  ğŸ›’ Fetching order: 5diXu1FnVk9xfTnGODqXNCzE44AZY
    âœ“ Order fetched
  ğŸ‘¤ Fetching customer: VAP62J2BF01K81W6FFBXMR3FEW
    âœ“ Customer fetched
  âœ“ Imported to import_payments with field transformation
  ğŸ“ No registration found for payment: P1x35soIc6XBESLOezIkKls90HaZY
  âœ“ Updated import_payments with registrationId: no-match
  â„¹ï¸ FAILED payment - no match is not an error
  Got cursor for next payment
  Fetched payment 74 (cursor: provided)

ğŸ“ Processing Square payment: fRho4gi1mRNNspthVjJ4Q8NZOiAZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 75 (cursor: provided)

ğŸ“ Processing Square payment: PhTXoxEY7t83xZ0W6Gm6HM44KPeZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 76 (cursor: provided)

ğŸ“ Processing Square payment: NS6wzujAidAaj1cx9PKzy5D37BeZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 77 (cursor: provided)

ğŸ“ Processing Square payment: NEBRGj6op7oISf96uhiwqfZQNdFZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 78 (cursor: provided)

ğŸ“ Processing Square payment: zpKzPrFhACfx4abc3krHZTpasNfZY
  âœ… Importing completed payment - status: COMPLETED
  âœ“ Payment already exists in production - skipping
  Got cursor for next payment
  Fetched payment 79 (cursor: provided)

ğŸ“ Processing Square payment: vPOXbkIHyMa1qTHchB83b7PAGiLZY
  âœ… Importing completed payment - status: COMPLETED
